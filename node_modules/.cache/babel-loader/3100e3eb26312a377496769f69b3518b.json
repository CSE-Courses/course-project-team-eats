{"ast":null,"code":"var _jsxFileName = \"/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js\";\nimport React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\"; //import {SubNav} from '../NavBar/SubNav/SubNav';\n\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\nexport function Search() {\n  const {\n    location,\n    history\n  } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n  const priceParam = params.get(\"price\");\n  const [businesses, amountResults, searchParams, performSearch] = useBusinessSearch(term, locationParam, priceParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`);\n    performSearch({\n      term,\n      location\n    });\n  }\n\n  function searchWithFilter(term, location, price) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(locationParam);\n    const encodedPrice = price;\n    history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}&price=${encodedPrice}`);\n    performSearch({\n      term,\n      location,\n      price\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    term: term,\n    location: locationParam,\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResultsSummary, {\n    term: searchParams.term,\n    location: searchParams.location,\n    amountResults: amountResults,\n    shownResults: businesses ? businesses.length : 0,\n    searchWithFilter: searchWithFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResults, {\n    businesses: businesses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js"],"names":["React","NavBar","SearchResultsSummary","SearchResults","useReactRouter","useBusinessSearch","Pagination","Search","location","history","params","URLSearchParams","search","term","get","locationParam","priceParam","businesses","amountResults","searchParams","performSearch","push","encodedTerm","encodeURI","encodedLocation","searchWithFilter","price","encodedPrice","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,kBAAvB,C,CACA;;AACA,SAASC,oBAAT,QAAqC,6CAArC;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,qCAAlC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,OAAO,SAASC,MAAT,GAAkB;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAwBL,cAAc,EAA5C;AACA,QAAMM,MAAM,GAAG,IAAIC,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,CAAf;AACA,QAAMC,IAAI,GAAGH,MAAM,CAACI,GAAP,CAAW,WAAX,CAAb;AACA,QAAMC,aAAa,GAAGL,MAAM,CAACI,GAAP,CAAW,UAAX,CAAtB;AACA,QAAME,UAAU,GAAGN,MAAM,CAACI,GAAP,CAAW,OAAX,CAAnB;AACA,QAAM,CACJG,UADI,EAEJC,aAFI,EAGJC,YAHI,EAIJC,aAJI,IAKFf,iBAAiB,CAACQ,IAAD,EAAOE,aAAP,EAAsBC,UAAtB,CALrB;;AAOA,MAAI,CAACH,IAAD,IAAS,CAACE,aAAd,EAA6B;AAC3BN,IAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACD;;AAED,WAAST,MAAT,CAAgBC,IAAhB,EAAsBL,QAAtB,EAAgC;AAC9B,UAAMc,WAAW,GAAGC,SAAS,CAACV,IAAD,CAA7B;AACA,UAAMW,eAAe,GAAGD,SAAS,CAACf,QAAD,CAAjC;AACAC,IAAAA,OAAO,CAACY,IAAR,CACG,qBAAoBC,WAAY,aAAYE,eAAgB,EAD/D;AAGAJ,IAAAA,aAAa,CAAC;AAAEP,MAAAA,IAAF;AAAQL,MAAAA;AAAR,KAAD,CAAb;AACD;;AAED,WAASiB,gBAAT,CAA0BZ,IAA1B,EAAgCL,QAAhC,EAA0CkB,KAA1C,EAAiD;AAC/C,UAAMJ,WAAW,GAAGC,SAAS,CAACV,IAAD,CAA7B;AACA,UAAMW,eAAe,GAAGD,SAAS,CAACR,aAAD,CAAjC;AACA,UAAMY,YAAY,GAAGD,KAArB;AACAjB,IAAAA,OAAO,CAACY,IAAR,CACG,qBAAoBC,WAAY,aAAYE,eAAgB,UAASG,YAAa,EADrF;AAGAP,IAAAA,aAAa,CAAC;AAAEP,MAAAA,IAAF;AAAQL,MAAAA,QAAR;AAAkBkB,MAAAA;AAAlB,KAAD,CAAb;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEb,IAAd;AAAoB,IAAA,QAAQ,EAAEE,aAA9B;AAA6C,IAAA,MAAM,EAAEH,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,oBAAD;AACE,IAAA,IAAI,EAAEO,YAAY,CAACN,IADrB;AAEE,IAAA,QAAQ,EAAEM,YAAY,CAACX,QAFzB;AAGE,IAAA,aAAa,EAAEU,aAHjB;AAIE,IAAA,YAAY,EAAED,UAAU,GAAGA,UAAU,CAACW,MAAd,GAAuB,CAJjD;AAKE,IAAA,gBAAgB,EAAEH,gBALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAUE,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAER,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF;AAeD","sourcesContent":["import React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\";\n//import {SubNav} from '../NavBar/SubNav/SubNav';\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\n\nexport function Search() {\n  const { location, history } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n  const priceParam = params.get(\"price\");\n  const [\n    businesses,\n    amountResults,\n    searchParams,\n    performSearch,\n  ] = useBusinessSearch(term, locationParam, priceParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(\n      `/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`\n    );\n    performSearch({ term, location });\n  }\n\n  function searchWithFilter(term, location, price) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(locationParam);\n    const encodedPrice = price;\n    history.push(\n      `/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}&price=${encodedPrice}`\n    );\n    performSearch({ term, location, price });\n  }\n\n  return (\n    <div>\n      <NavBar term={term} location={locationParam} search={search} />\n      {/* <SubNav /> */}\n      <SearchResultsSummary\n        term={searchParams.term}\n        location={searchParams.location}\n        amountResults={amountResults}\n        shownResults={businesses ? businesses.length : 0}\n        searchWithFilter={searchWithFilter}\n      />\n      <SearchResults businesses={businesses} />\n      <Pagination />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}