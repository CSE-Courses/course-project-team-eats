{"ast":null,"code":"var _jsxFileName = \"/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js\";\nimport React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\"; //import {SubNav} from '../NavBar/SubNav/SubNav';\n\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\nexport function Search() {\n  const {\n    location,\n    history,\n    match\n  } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n  const [businesses, amountResults, searchParams, performSearch] = useBusinessSearch(term, locationParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`);\n    performSearch({\n      term,\n      location\n    });\n  }\n\n  function searchWithFilter(price) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(locationParam);\n    const encodedPrice = encodeURI(price);\n    history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}&price=${encodedPrice}`);\n    performSearch({\n      term,\n      location,\n      price\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    term: term,\n    location: locationParam,\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResultsSummary, {\n    term: searchParams.term,\n    location: searchParams.location,\n    amountResults: amountResults,\n    shownResults: businesses ? businesses.length : 0,\n    searchWithFilter: searchWithFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResults, {\n    businesses: businesses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js"],"names":["React","NavBar","SearchResultsSummary","SearchResults","useReactRouter","useBusinessSearch","Pagination","Search","location","history","match","params","URLSearchParams","search","term","get","locationParam","businesses","amountResults","searchParams","performSearch","push","encodedTerm","encodeURI","encodedLocation","searchWithFilter","price","encodedPrice","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,kBAAvB,C,CACA;;AACA,SAASC,oBAAT,QAAqC,6CAArC;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,qCAAlC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,OAAO,SAASC,MAAT,GAAkB;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,OAAZ;AAAqBC,IAAAA;AAArB,MAA+BN,cAAc,EAAnD;AACA,QAAMO,MAAM,GAAG,IAAIC,eAAJ,CAAoBJ,QAAQ,CAACK,MAA7B,CAAf;AACA,QAAMC,IAAI,GAAGH,MAAM,CAACI,GAAP,CAAW,WAAX,CAAb;AACA,QAAMC,aAAa,GAAGL,MAAM,CAACI,GAAP,CAAW,UAAX,CAAtB;AACA,QAAM,CACJE,UADI,EAEJC,aAFI,EAGJC,YAHI,EAIJC,aAJI,IAKFf,iBAAiB,CAACS,IAAD,EAAOE,aAAP,CALrB;;AAOA,MAAI,CAACF,IAAD,IAAS,CAACE,aAAd,EAA6B;AAC3BP,IAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACD;;AAED,WAASR,MAAT,CAAgBC,IAAhB,EAAsBN,QAAtB,EAAgC;AAC9B,UAAMc,WAAW,GAAGC,SAAS,CAACT,IAAD,CAA7B;AACA,UAAMU,eAAe,GAAGD,SAAS,CAACf,QAAD,CAAjC;AACAC,IAAAA,OAAO,CAACY,IAAR,CACG,qBAAoBC,WAAY,aAAYE,eAAgB,EAD/D;AAGAJ,IAAAA,aAAa,CAAC;AAAEN,MAAAA,IAAF;AAAQN,MAAAA;AAAR,KAAD,CAAb;AACD;;AAED,WAASiB,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B,UAAMJ,WAAW,GAAGC,SAAS,CAACT,IAAD,CAA7B;AACA,UAAMU,eAAe,GAAGD,SAAS,CAACP,aAAD,CAAjC;AACA,UAAMW,YAAY,GAAGJ,SAAS,CAACG,KAAD,CAA9B;AACAjB,IAAAA,OAAO,CAACY,IAAR,CACG,qBAAoBC,WAAY,aAAYE,eAAgB,UAASG,YAAa,EADrF;AAGAP,IAAAA,aAAa,CAAC;AAAEN,MAAAA,IAAF;AAAQN,MAAAA,QAAR;AAAkBkB,MAAAA;AAAlB,KAAD,CAAb;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEZ,IAAd;AAAoB,IAAA,QAAQ,EAAEE,aAA9B;AAA6C,IAAA,MAAM,EAAEH,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,oBAAD;AACE,IAAA,IAAI,EAAEM,YAAY,CAACL,IADrB;AAEE,IAAA,QAAQ,EAAEK,YAAY,CAACX,QAFzB;AAGE,IAAA,aAAa,EAAEU,aAHjB;AAIE,IAAA,YAAY,EAAED,UAAU,GAAGA,UAAU,CAACW,MAAd,GAAuB,CAJjD;AAKE,IAAA,gBAAgB,EAAEH,gBALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAUE,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAER,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CADF;AAeD","sourcesContent":["import React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\";\n//import {SubNav} from '../NavBar/SubNav/SubNav';\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\n\nexport function Search() {\n  const { location, history, match } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n  const [\n    businesses,\n    amountResults,\n    searchParams,\n    performSearch,\n  ] = useBusinessSearch(term, locationParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(\n      `/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`\n    );\n    performSearch({ term, location });\n  }\n\n  function searchWithFilter(price) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(locationParam);\n    const encodedPrice = encodeURI(price);\n    history.push(\n      `/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}&price=${encodedPrice}`\n    );\n    performSearch({ term, location, price });\n  }\n\n  return (\n    <div>\n      <NavBar term={term} location={locationParam} search={search} />\n      {/* <SubNav /> */}\n      <SearchResultsSummary\n        term={searchParams.term}\n        location={searchParams.location}\n        amountResults={amountResults}\n        shownResults={businesses ? businesses.length : 0}\n        searchWithFilter={searchWithFilter}\n      />\n      <SearchResults businesses={businesses} />\n      <Pagination />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}