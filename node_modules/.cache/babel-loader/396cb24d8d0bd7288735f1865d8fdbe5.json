{"ast":null,"code":"var _jsxFileName = \"/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/SearchResults/SearchResult/SearchResult.js\";\nimport React, { useState } from \"react\";\nimport { BusinessRating } from \"../../../BusinessRating/BusinessRating\";\nimport styles from \"./SearchResult.module.css\"; //import $ from \"jquery\";\n\nconst initialList = [{\n  id: \"\",\n  name: \"\"\n}];\nexport function SearchResult(props) {\n  // const [restaurant, setRestaurant] = useState([]);\n  const [listData, setListData] = useState({\n    list: initialList\n  });\n  const [name, setName] = useState(\"\");\n\n  if (!props.business) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 12\n      }\n    }, \" Error! Not Found\");\n  } // function handleClick(e) {\n  //   $(\".image-checkbox\").each(function () {\n  //     if ($(this).find('input[type=\"checkbox\"]').first().attr(\"checked\")) {\n  //       $(this).addClass(\"image-checkbox-checked\");\n  //     } else {\n  //       $(this).removeClass(\"image-checkbox-checked\");\n  //     }\n  //   });\n  //   // sync the state to the input\n  //   $(\".image-checkbox\").on(\"click\", function (e) {\n  //     $(this).toggleClass(\"image-checkbox-checked\");\n  //     var $checkbox = $(this).find('input[type=\"checkbox\"]');\n  //     $checkbox.prop(\"checked\", !$checkbox.prop(\"checked\"));\n  //     e.preventDefault();\n  //   });\n  //   console.log(\"Clicked\");\n  //}\n\n\n  function handleAdd() {\n    const newList = listData.list.concat({\n      id: props.business.id,\n      name: props.business.name\n    });\n    setListData({ ...listData,\n      list: newList\n    });\n    setName(\"\");\n  }\n\n  function handleDelete(restaurantDeleted) {\n    setListData({\n      list: initialList\n    });\n    setName(\"\"); // const restaurant = restaurantDeleted;\n    // const deleteData = async () => {\n    //   fetch(\"http://localhost:5000/delete_restaurant\", {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\",\n    //     },\n    //     body: JSON.stringify(restaurant),\n    //   })\n    //     .then((response) => response.json())\n    //     .catch((err) => console.log(\"Error\" + err));\n    // };\n    // deleteData();\n  }\n\n  console.log(name);\n  console.log(listData);\n\n  const postData = async name => {\n    // var restaurant = { listData: name };\n    var restaurant = name;\n    console.log(JSON.stringify(restaurant));\n    await fetch(\"http://localhost:5000/restaurants/add_restaurant\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(restaurant)\n    }).then(response => response.json()).catch(err => console.error(\"Error\" + err));\n  };\n\n  const tags = props.business.categories.map(category => /*#__PURE__*/React.createElement(\"span\", {\n    className: `tag ${styles[\"business-tag\"]}`,\n    key: props.business.id + category.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, category.title));\n  const addressLines = props.business.location.display_address.map(addressLine => /*#__PURE__*/React.createElement(\"p\", {\n    key: props.business.id + addressLine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 22\n    }\n  }, addressLine));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"search-result\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: `image-checkbox`,\n    onClick: e => {\n      if (e.target.checked) {\n        handleAdd();\n        postData(e.target.value);\n      } else {\n        handleDelete(e.target.value);\n      }\n    },\n    value: props.business.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.business.image_url,\n    alt: \"business\",\n    className: `${styles[\"business-image\"]}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: \"image[]\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"business-info\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, props.business.name)), /*#__PURE__*/React.createElement(BusinessRating, {\n    reviewCount: props.business.review_count,\n    rating: props.business.rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \" \", props.business.price, tags)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"contact-info\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, props.business.phone, \" \"), addressLines));\n}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/SearchResults/SearchResult/SearchResult.js"],"names":["React","useState","BusinessRating","styles","initialList","id","name","SearchResult","props","listData","setListData","list","setName","business","handleAdd","newList","concat","handleDelete","restaurantDeleted","console","log","postData","restaurant","JSON","stringify","fetch","method","headers","body","then","response","json","catch","err","error","tags","categories","map","category","title","addressLines","location","display_address","addressLine","e","target","checked","value","image_url","review_count","rating","price","phone"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { BusinessRating } from \"../../../BusinessRating/BusinessRating\";\nimport styles from \"./SearchResult.module.css\";\n//import $ from \"jquery\";\n\nconst initialList = [\n  {\n    id: \"\",\n    name: \"\",\n  },\n];\n\nexport function SearchResult(props) {\n  // const [restaurant, setRestaurant] = useState([]);\n  const [listData, setListData] = useState({ list: initialList });\n  const [name, setName] = useState(\"\");\n  if (!props.business) {\n    return <div> Error! Not Found</div>;\n  }\n\n  // function handleClick(e) {\n  //   $(\".image-checkbox\").each(function () {\n  //     if ($(this).find('input[type=\"checkbox\"]').first().attr(\"checked\")) {\n  //       $(this).addClass(\"image-checkbox-checked\");\n  //     } else {\n  //       $(this).removeClass(\"image-checkbox-checked\");\n  //     }\n  //   });\n\n  //   // sync the state to the input\n  //   $(\".image-checkbox\").on(\"click\", function (e) {\n  //     $(this).toggleClass(\"image-checkbox-checked\");\n  //     var $checkbox = $(this).find('input[type=\"checkbox\"]');\n  //     $checkbox.prop(\"checked\", !$checkbox.prop(\"checked\"));\n\n  //     e.preventDefault();\n  //   });\n  //   console.log(\"Clicked\");\n  //}\n\n  function handleAdd() {\n    const newList = listData.list.concat({\n      id: props.business.id,\n      name: props.business.name,\n    });\n    setListData({ ...listData, list: newList });\n    setName(\"\");\n  }\n\n  function handleDelete(restaurantDeleted) {\n    setListData({ list: initialList });\n    setName(\"\");\n    // const restaurant = restaurantDeleted;\n    // const deleteData = async () => {\n    //   fetch(\"http://localhost:5000/delete_restaurant\", {\n    //     method: \"POST\",\n    //     headers: {\n    //       \"Content-Type\": \"application/json\",\n    //     },\n    //     body: JSON.stringify(restaurant),\n    //   })\n    //     .then((response) => response.json())\n    //     .catch((err) => console.log(\"Error\" + err));\n    // };\n\n    // deleteData();\n  }\n\n  console.log(name);\n  console.log(listData);\n\n  const postData = async (name) => {\n    // var restaurant = { listData: name };\n    var restaurant = name;\n    console.log(JSON.stringify(restaurant));\n    await fetch(\"http://localhost:5000/restaurants/add_restaurant\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(restaurant),\n    })\n      .then((response) => response.json())\n      .catch((err) => console.error(\"Error\" + err));\n  };\n\n  const tags = props.business.categories.map((category) => (\n    <span\n      className={`tag ${styles[\"business-tag\"]}`}\n      key={props.business.id + category.title}\n    >\n      {category.title}\n    </span>\n  ));\n  const addressLines = props.business.location.display_address.map(\n    (addressLine) => <p key={props.business.id + addressLine}>{addressLine}</p>\n  );\n\n  return (\n    <div className={styles[\"search-result\"]}>\n      <label\n        className={`image-checkbox`}\n        onClick={(e) => {\n          if (e.target.checked) {\n            handleAdd();\n            postData(e.target.value);\n          } else {\n            handleDelete(e.target.value);\n          }\n        }}\n        value={props.business.name}\n      >\n        <img\n          src={props.business.image_url}\n          alt=\"business\"\n          className={`${styles[\"business-image\"]}`}\n        />\n        <input type=\"checkbox\" name=\"image[]\" value=\"\" />\n        {/* <i className={`fa fa-check`}></i> */}\n      </label>\n\n      <div className={styles[\"business-info\"]}>\n        <h2 className=\"subtitle\">\n          <strong>{props.business.name}</strong>\n        </h2>\n        <BusinessRating\n          reviewCount={props.business.review_count}\n          rating={props.business.rating}\n        />\n        <p>\n          {\" \"}\n          {props.business.price}\n          {tags}\n        </p>\n      </div>\n      <div className={styles[\"contact-info\"]}>\n        <p>{props.business.phone} </p>\n        {addressLines}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}