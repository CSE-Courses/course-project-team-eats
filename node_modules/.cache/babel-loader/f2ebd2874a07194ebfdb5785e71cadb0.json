{"ast":null,"code":"var _jsxFileName = \"/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js\";\nimport React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\"; //import {SubNav} from '../NavBar/SubNav/SubNav';\n\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\nexport function Search() {\n  const {\n    location,\n    history\n  } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n  const [businesses, amountResults, searchParams, performSearch] = useBusinessSearch(term, locationParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`);\n    performSearch({\n      term,\n      location\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    term: term,\n    location: locationParam,\n    search: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResultsSummary, {\n    term: searchParams.term,\n    location: searchParams.location,\n    amountResults: amountResults,\n    shownResults: businesses ? businesses.length : 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchResults, {\n    businesses: businesses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js"],"names":["React","NavBar","SearchResultsSummary","SearchResults","useReactRouter","useBusinessSearch","Pagination","Search","location","history","params","URLSearchParams","search","term","get","locationParam","businesses","amountResults","searchParams","performSearch","push","encodedTerm","encodeURI","encodedLocation","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,kBAAvB,C,CACA;;AACA,SAASC,oBAAT,QAAqC,6CAArC;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,iBAAT,QAAkC,qCAAlC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,OAAO,SAASC,MAAT,GAAkB;AACvB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAwBL,cAAc,EAA5C;AACA,QAAMM,MAAM,GAAG,IAAIC,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,CAAf;AACA,QAAMC,IAAI,GAAGH,MAAM,CAACI,GAAP,CAAW,WAAX,CAAb;AACA,QAAMC,aAAa,GAAGL,MAAM,CAACI,GAAP,CAAW,UAAX,CAAtB;AAEA,QAAM,CACJE,UADI,EAEJC,aAFI,EAGJC,YAHI,EAIJC,aAJI,IAKFd,iBAAiB,CAACQ,IAAD,EAAOE,aAAP,CALrB;;AAOA,MAAI,CAACF,IAAD,IAAS,CAACE,aAAd,EAA6B;AAC3BN,IAAAA,OAAO,CAACW,IAAR,CAAa,GAAb;AACD;;AAED,WAASR,MAAT,CAAgBC,IAAhB,EAAsBL,QAAtB,EAAgC;AAC9B,UAAMa,WAAW,GAAGC,SAAS,CAACT,IAAD,CAA7B;AACA,UAAMU,eAAe,GAAGD,SAAS,CAACd,QAAD,CAAjC;AACAC,IAAAA,OAAO,CAACW,IAAR,CACG,qBAAoBC,WAAY,aAAYE,eAAgB,EAD/D;AAGAJ,IAAAA,aAAa,CAAC;AAAEN,MAAAA,IAAF;AAAQL,MAAAA;AAAR,KAAD,CAAb;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEK,IAAd;AAAoB,IAAA,QAAQ,EAAEE,aAA9B;AAA6C,IAAA,MAAM,EAAEH,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,oBAAD;AACE,IAAA,IAAI,EAAEM,YAAY,CAACL,IADrB;AAEE,IAAA,QAAQ,EAAEK,YAAY,CAACV,QAFzB;AAGE,IAAA,aAAa,EAAES,aAHjB;AAIE,IAAA,YAAY,EAAED,UAAU,GAAGA,UAAU,CAACQ,MAAd,GAAuB,CAJjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eASE,oBAAC,aAAD;AAAe,IAAA,UAAU,EAAER,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAUE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAcD","sourcesContent":["import React from \"react\";\nimport { NavBar } from \"../NavBar/NavBar\";\n//import {SubNav} from '../NavBar/SubNav/SubNav';\nimport { SearchResultsSummary } from \"./SearchResultsSummary/SearchResultsSummary\";\nimport { SearchResults } from \"./SearchResults/SearchResults\";\nimport useReactRouter from \"use-react-router\";\nimport { useBusinessSearch } from \"../hooks/yelp-api/useBusinessSearch\";\nimport { Pagination } from \"./Pagination/Pagination\";\n\nexport function Search() {\n  const { location, history } = useReactRouter();\n  const params = new URLSearchParams(location.search);\n  const term = params.get(\"find_desc\");\n  const locationParam = params.get(\"find_loc\");\n\n  const [\n    businesses,\n    amountResults,\n    searchParams,\n    performSearch,\n  ] = useBusinessSearch(term, locationParam);\n\n  if (!term || !locationParam) {\n    history.push(\"/\");\n  }\n\n  function search(term, location) {\n    const encodedTerm = encodeURI(term);\n    const encodedLocation = encodeURI(location);\n    history.push(\n      `/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`\n    );\n    performSearch({ term, location });\n  }\n\n  return (\n    <div>\n      <NavBar term={term} location={locationParam} search={search} />\n      {/* <SubNav /> */}\n      <SearchResultsSummary\n        term={searchParams.term}\n        location={searchParams.location}\n        amountResults={amountResults}\n        shownResults={businesses ? businesses.length : 0}\n      />\n      <SearchResults businesses={businesses} />\n      <Pagination />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}