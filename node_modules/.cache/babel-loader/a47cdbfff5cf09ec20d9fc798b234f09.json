{"ast":null,"code":"import React from\"react\";import styles from\"./SearchSuggestions.module.css\";export function SearchSuggestions(props){// Step 1: Get user coordinates\nfunction getCoordinates(){var options={enableHighAccuracy:true,timeout:5000,maximumAge:0};function success(pos){var crd=pos.coords;var lat=crd.latitude.toString();var lng=crd.longitude.toString();var coordinates=[lat,lng];console.log(\"Latitude: \".concat(lat,\", Longitude: \").concat(lng));var currentLocation=getCity(coordinates);return currentLocation;}function error(err){console.warn(\"ERROR(\".concat(err.code,\"): \").concat(err.message));}navigator.geolocation.getCurrentPosition(success,error,options);}// Step 2: Get city name\nfunction getCity(coordinates){var xhr=new XMLHttpRequest();var lat=coordinates[0];var lng=coordinates[1];// Paste your LocationIQ token below.\nxhr.open(\"GET\",\"https://us1.locationiq.com/v1/reverse.php?key=YOUR_PRIVATE_TOKEN&lat=\"+lat+\"&lon=\"+lng+\"&format=json\",true);xhr.send();xhr.onreadystatechange=processRequest;xhr.addEventListener(\"readystatechange\",processRequest,false);function processRequest(e){if(xhr.readyState===4&&xhr.status===200){var response=JSON.parse(xhr.responseText);var city=response.address.city;console.log(city);return city;}}}//   getCoordintes();\nfunction searchDelivery(){var term=\"Delivery\";var location=getCoordinates();props.search(term,location);}function searchNightlife(){var term=\"Nightlife\";var location=getCoordinates();props.search(term,location);}function searchRestaurants(){var term=\"Restaurants\";var location=getCoordinates();props.search(term,location);}function searchServices(){var term=\"Services\";var location=getCoordinates();props.search(term,location);}return/*#__PURE__*/React.createElement(\"div\",{className:styles.suggestions},/*#__PURE__*/React.createElement(\"span\",{className:\"icon is-small\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-utensils\"})),/*#__PURE__*/React.createElement(\"span\",{className:styles.suggestion,onClick:function onClick(){return searchRestaurants();}},\"Restaurants\"),/*#__PURE__*/React.createElement(\"span\",{className:\"icon is-small\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-cocktail\"})),/*#__PURE__*/React.createElement(\"span\",{className:styles.suggestion,onClick:function onClick(){return searchNightlife();}},\"Nightlife\"),/*#__PURE__*/React.createElement(\"span\",{className:\"icon is-small\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-concierge-bell\"})),/*#__PURE__*/React.createElement(\"span\",{className:styles.suggestion,onClick:function onClick(){return searchServices();}},\"Services\"),/*#__PURE__*/React.createElement(\"span\",{className:\"icon is-small\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-truck\"})),/*#__PURE__*/React.createElement(\"span\",{className:styles.suggestion,onClick:function onClick(){return searchDelivery();}},\"Delivery Services\"));}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/LandingPage/SearchSuggestions/SearchSuggestions.js"],"names":["React","styles","SearchSuggestions","props","getCoordinates","options","enableHighAccuracy","timeout","maximumAge","success","pos","crd","coords","lat","latitude","toString","lng","longitude","coordinates","console","log","currentLocation","getCity","error","err","warn","code","message","navigator","geolocation","getCurrentPosition","xhr","XMLHttpRequest","open","send","onreadystatechange","processRequest","addEventListener","e","readyState","status","response","JSON","parse","responseText","city","address","searchDelivery","term","location","search","searchNightlife","searchRestaurants","searchServices","suggestions","suggestion"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./SearchSuggestions.module.css\";\n\nexport function SearchSuggestions(props) {\n  // Step 1: Get user coordinates\n  function getCoordinates() {\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    };\n\n    function success(pos) {\n      var crd = pos.coords;\n      var lat = crd.latitude.toString();\n      var lng = crd.longitude.toString();\n      var coordinates = [lat, lng];\n      console.log(`Latitude: ${lat}, Longitude: ${lng}`);\n      var currentLocation = getCity(coordinates);\n      return currentLocation;\n    }\n\n    function error(err) {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    }\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n  }\n\n  // Step 2: Get city name\n  function getCity(coordinates) {\n    var xhr = new XMLHttpRequest();\n    var lat = coordinates[0];\n    var lng = coordinates[1];\n\n    // Paste your LocationIQ token below.\n    xhr.open(\n      \"GET\",\n      \"https://us1.locationiq.com/v1/reverse.php?key=YOUR_PRIVATE_TOKEN&lat=\" +\n        lat +\n        \"&lon=\" +\n        lng +\n        \"&format=json\",\n      true\n    );\n    xhr.send();\n    xhr.onreadystatechange = processRequest;\n    xhr.addEventListener(\"readystatechange\", processRequest, false);\n\n    function processRequest(e) {\n      if (xhr.readyState === 4 && xhr.status === 200) {\n        var response = JSON.parse(xhr.responseText);\n        var city = response.address.city;\n        console.log(city);\n        return city;\n      }\n    }\n  }\n\n  //   getCoordintes();\n\n  function searchDelivery() {\n    const term = \"Delivery\";\n    const location = getCoordinates();\n\n    props.search(term, location);\n  }\n\n  function searchNightlife() {\n    const term = \"Nightlife\";\n    const location = getCoordinates();\n\n    props.search(term, location);\n  }\n\n  function searchRestaurants() {\n    const term = \"Restaurants\";\n    const location = getCoordinates();\n\n    props.search(term, location);\n  }\n\n  function searchServices() {\n    const term = \"Services\";\n    const location = getCoordinates();\n\n    props.search(term, location);\n  }\n\n  return (\n    <div className={styles.suggestions}>\n      <span className=\"icon is-small\">\n        <i className=\"fas fa-utensils\"></i>\n      </span>\n      <span className={styles.suggestion} onClick={() => searchRestaurants()}>\n        Restaurants\n      </span>\n\n      <span className=\"icon is-small\">\n        <i className=\"fas fa-cocktail\"></i>\n      </span>\n      <span className={styles.suggestion} onClick={() => searchNightlife()}>\n        Nightlife\n      </span>\n\n      <span className=\"icon is-small\">\n        <i className=\"fas fa-concierge-bell\"></i>\n      </span>\n      <span className={styles.suggestion} onClick={() => searchServices()}>\n        Services\n      </span>\n\n      <span className=\"icon is-small\">\n        <i className=\"fas fa-truck\"></i>\n      </span>\n      <span className={styles.suggestion} onClick={() => searchDelivery()}>\n        Delivery Services\n      </span>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}