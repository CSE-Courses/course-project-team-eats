{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport * as api from \"./api\";\nexport function useBusinessSearch(term, location, price, radius) {\n  const [businesses, setBusinesses] = useState([]);\n  const [amountResults, setAmountResults] = useState();\n  const [searchParams, setSearchParams] = useState({\n    term,\n    location,\n    price,\n    radius\n  }); // const [searchWithFilterParams, setsearchWithFilterParams] = useState({\n  //   price,\n  // });\n\n  useEffect(() => {\n    setBusinesses([]);\n\n    const fetchData = async () => {\n      try {\n        const rawData = await api.get(\"/businesses/search\", searchParams);\n        const resp = await rawData.json();\n        setBusinesses(resp.businesses);\n        setAmountResults(resp.total);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    fetchData();\n  }, [searchParams]);\n  return [businesses, amountResults, searchParams, setSearchParams];\n}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/hooks/yelp-api/useBusinessSearch.js"],"names":["useState","useEffect","api","useBusinessSearch","term","location","price","radius","businesses","setBusinesses","amountResults","setAmountResults","searchParams","setSearchParams","fetchData","rawData","get","resp","json","total","e","console","error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,KAAKC,GAAZ,MAAqB,OAArB;AAEA,OAAO,SAASC,iBAAT,CAA2BC,IAA3B,EAAiCC,QAAjC,EAA2CC,KAA3C,EAAkDC,MAAlD,EAA0D;AAC/D,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACU,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,EAAlD;AACA,QAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC;AAC/CI,IAAAA,IAD+C;AAE/CC,IAAAA,QAF+C;AAG/CC,IAAAA,KAH+C;AAI/CC,IAAAA;AAJ+C,GAAD,CAAhD,CAH+D,CAS/D;AACA;AACA;;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,aAAa,CAAC,EAAD,CAAb;;AACA,UAAMK,SAAS,GAAG,YAAY;AAC5B,UAAI;AACF,cAAMC,OAAO,GAAG,MAAMb,GAAG,CAACc,GAAJ,CAAQ,oBAAR,EAA8BJ,YAA9B,CAAtB;AACA,cAAMK,IAAI,GAAG,MAAMF,OAAO,CAACG,IAAR,EAAnB;AACAT,QAAAA,aAAa,CAACQ,IAAI,CAACT,UAAN,CAAb;AACAG,QAAAA,gBAAgB,CAACM,IAAI,CAACE,KAAN,CAAhB;AACD,OALD,CAKE,OAAOC,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACD;AACF,KATD;;AAUAN,IAAAA,SAAS;AACV,GAbQ,EAaN,CAACF,YAAD,CAbM,CAAT;AAeA,SAAO,CAACJ,UAAD,EAAaE,aAAb,EAA4BE,YAA5B,EAA0CC,eAA1C,CAAP;AACD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport * as api from \"./api\";\n\nexport function useBusinessSearch(term, location, price, radius) {\n  const [businesses, setBusinesses] = useState([]);\n  const [amountResults, setAmountResults] = useState();\n  const [searchParams, setSearchParams] = useState({\n    term,\n    location,\n    price,\n    radius,\n  });\n  // const [searchWithFilterParams, setsearchWithFilterParams] = useState({\n  //   price,\n  // });\n\n  useEffect(() => {\n    setBusinesses([]);\n    const fetchData = async () => {\n      try {\n        const rawData = await api.get(\"/businesses/search\", searchParams);\n        const resp = await rawData.json();\n        setBusinesses(resp.businesses);\n        setAmountResults(resp.total);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n    fetchData();\n  }, [searchParams]);\n\n  return [businesses, amountResults, searchParams, setSearchParams];\n}\n"]},"metadata":{},"sourceType":"module"}