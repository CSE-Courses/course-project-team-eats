{"ast":null,"code":"import _slicedToArray from\"/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{NavBar}from'../NavBar/NavBar';//import {SubNav} from '../NavBar/SubNav/SubNav';\nimport{SearchResultsSummary}from'./SearchResultsSummary/SearchResultsSummary';import{SearchResults}from'./SearchResults/SearchResults';import useReactRouter from'use-react-router';import{useBusinessSearch}from'../hooks/yelp-api/useBusinessSearch';export function Search(){var _useReactRouter=useReactRouter(),location=_useReactRouter.location,history=_useReactRouter.history;var params=new URLSearchParams(location.search);var term=params.get('find_desc');var locationParam=params.get('find_loc');var _useBusinessSearch=useBusinessSearch(term,locationParam),_useBusinessSearch2=_slicedToArray(_useBusinessSearch,4),businesses=_useBusinessSearch2[0],amountResults=_useBusinessSearch2[1],searchParams=_useBusinessSearch2[2],performSearch=_useBusinessSearch2[3];if(!term||!locationParam){history.push('/');}function search(term,location){var encodedTerm=encodeURI(term);var encodedLocation=encodeURI(location);history.push(\"/search?find_desc=\".concat(encodedTerm,\"&find_loc=\").concat(encodedLocation));performSearch({term:term,location:location});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NavBar,{term:term,location:locationParam,search:search}),/*#__PURE__*/React.createElement(SearchResultsSummary,{term:searchParams.term,location:searchParams.location,amountResults:amountResults,shownResults:businesses?businesses.length:0}),/*#__PURE__*/React.createElement(SearchResults,{businesses:businesses}));}","map":{"version":3,"sources":["/Users/rakshitdwivedi/Desktop/React/course-project-team-eats/src/Search/Search.js"],"names":["React","NavBar","SearchResultsSummary","SearchResults","useReactRouter","useBusinessSearch","Search","location","history","params","URLSearchParams","search","term","get","locationParam","businesses","amountResults","searchParams","performSearch","push","encodedTerm","encodeURI","encodedLocation","length"],"mappings":"mLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,KAAqB,kBAArB,CACA;AACA,OAAQC,oBAAR,KAAmC,6CAAnC,CACA,OAAQC,aAAR,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,iBAAT,KAAkC,qCAAlC,CAEA,MAAO,SAASC,CAAAA,MAAT,EAAiB,qBAEQF,cAAc,EAFtB,CAEbG,QAFa,iBAEbA,QAFa,CAEHC,OAFG,iBAEHA,OAFG,CAGpB,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoBH,QAAQ,CAACI,MAA7B,CAAf,CACA,GAAMC,CAAAA,IAAI,CAAGH,MAAM,CAACI,GAAP,CAAW,WAAX,CAAb,CACA,GAAMC,CAAAA,aAAa,CAAGL,MAAM,CAACI,GAAP,CAAW,UAAX,CAAtB,CALoB,uBAM6CR,iBAAiB,CAACO,IAAD,CAAOE,aAAP,CAN9D,0DAMbC,UANa,wBAMDC,aANC,wBAMcC,YANd,wBAM4BC,aAN5B,wBAUpB,GAAG,CAACN,IAAD,EAAS,CAACE,aAAb,CAA2B,CACvBN,OAAO,CAACW,IAAR,CAAa,GAAb,EACH,CAED,QAASR,CAAAA,MAAT,CAAgBC,IAAhB,CAAsBL,QAAtB,CAAgC,CAC5B,GAAMa,CAAAA,WAAW,CAAGC,SAAS,CAACT,IAAD,CAA7B,CACA,GAAMU,CAAAA,eAAe,CAAGD,SAAS,CAACd,QAAD,CAAjC,CACAC,OAAO,CAACW,IAAR,6BAAkCC,WAAlC,sBAA0DE,eAA1D,GACAJ,aAAa,CAAC,CAACN,IAAI,CAAJA,IAAD,CAAML,QAAQ,CAARA,QAAN,CAAD,CAAb,CACH,CAED,mBACI,4CACI,oBAAC,MAAD,EAAQ,IAAI,CAAEK,IAAd,CAAoB,QAAQ,CAAEE,aAA9B,CAA6C,MAAM,CAAEH,MAArD,EADJ,cAGI,oBAAC,oBAAD,EAAsB,IAAI,CAAEM,YAAY,CAACL,IAAzC,CACsB,QAAQ,CAAEK,YAAY,CAACV,QAD7C,CAEsB,aAAa,CAAES,aAFrC,CAGsB,YAAY,CAAED,UAAU,CAAGA,UAAU,CAACQ,MAAd,CAAsB,CAHpE,EAHJ,cAQI,oBAAC,aAAD,EAAe,UAAU,CAAER,UAA3B,EARJ,CADJ,CAaH","sourcesContent":["import React from 'react';\nimport {NavBar} from '../NavBar/NavBar';\n//import {SubNav} from '../NavBar/SubNav/SubNav';\nimport {SearchResultsSummary} from './SearchResultsSummary/SearchResultsSummary';\nimport {SearchResults} from './SearchResults/SearchResults';\nimport useReactRouter from 'use-react-router';\nimport { useBusinessSearch } from '../hooks/yelp-api/useBusinessSearch';\n\nexport function Search(){\n\n    const {location, history} = useReactRouter();\n    const params = new URLSearchParams(location.search);\n    const term = params.get('find_desc');\n    const locationParam = params.get('find_loc');\n    const [businesses, amountResults, searchParams, performSearch] = useBusinessSearch(term, locationParam);\n\n\n\n    if(!term || !locationParam){\n        history.push('/');\n    }\n\n    function search(term, location) {\n        const encodedTerm = encodeURI(term);\n        const encodedLocation = encodeURI(location);\n        history.push(`/search?find_desc=${encodedTerm}&find_loc=${encodedLocation}`);\n        performSearch({term,location});\n    }\n\n    return (\n        <div>\n            <NavBar term={term} location={locationParam} search={search}/>\n            {/* <SubNav /> */}\n            <SearchResultsSummary term={searchParams.term}\n                                  location={searchParams.location}\n                                  amountResults={amountResults}\n                                  shownResults={businesses ? businesses.length: 0}\n            />\n            <SearchResults businesses={businesses}/>\n\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}